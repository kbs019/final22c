:root{
  --media-ratio: 1 / 1.05;
  --ink:#111; --ink-2:#222; --ink-3:#6c757d;
  --line:#e9ecef;
  --fx-fast:.14s ease;
  --sticky-top:72px;

  /* 리스트 최대 폭(원하면 값만 조정) */
  --list-max:1180px;

  scrollbar-gutter:stable;
}

/* ===== 공통 ===== */
html,body,#content{ background:#fff; color:#111; }
*{ box-sizing:border-box; }

/* ===== 리스트 폭/간격 ===== */
.list-shell{ margin:0 auto; max-width:calc(var(--list-max) + 280px); }
.list-body-narrow{ max-width:var(--list-max); margin-left:16px; }
@media (min-width:1200px){ .list-body-narrow{ margin-left:24px; } }

/* ===== 검색바 ===== */
.search-wrap{ display:flex; justify-content:center; }
.search-box{ position:relative; width:min(720px,92%); }
.search-box input{
  width:100%; border:none; border-bottom:1px solid var(--line); border-radius:0;
  padding:.8rem 3rem .8rem 0; outline:none; background:transparent; font-size:.95rem; color:var(--ink-2);
}
.search-box input:focus{ border-bottom-color:#bbb; }
/* 네이티브 X 숨기고 우리 X만 사용 */
.search-box input::-webkit-search-cancel-button{ -webkit-appearance:none; appearance:none; display:none; }
.search-box button{ position:absolute; top:50%; transform:translateY(-50%); border:none; background:transparent; padding:.25rem .5rem; line-height:1; }
#btn-search{ right:.25rem; }
#btn-search i{ color:#222; }
#btn-clear{ right:1.9rem; font-size:1.25rem; color:#000; }

/* ===== 사이드바(sticky) ===== */
.filter-panel{ background:transparent; padding:.25rem 0; }
.filter-title{ color:var(--ink-2); }
.filter-sticky{ position:sticky; top:var(--sticky-top); }
.filter-scroll{ max-height:calc(100dvh - var(--sticky-top) - 84px); overflow:auto; overscroll-behavior:contain; -webkit-overflow-scrolling:touch; }
@media (max-width:767.98px){ .filter-sticky{ position:static; top:auto; } .filter-scroll{ max-height:none; overflow:visible; } }
@media (min-width:768px){
  aside.col-12.col-md-3.col-lg-2{ position:relative; }
  aside.col-12.col-md-3.col-lg-2::after{
    content:""; position:absolute; top:0; bottom:0; right:-6px; width:1px; background:var(--line); opacity:.5; pointer-events:none;
  }
}

/* ===== 아코디언(파란 하이라이트/쉐도우 제거, 무채색 통일) ===== */
.accordion.minimalist .accordion-item{ border:none; background:transparent; }
.accordion.minimalist .accordion-item + .accordion-item{ margin-top:.35rem; }
.accordion.minimalist .accordion-button{
  padding:.4rem 0; background:transparent; border:none; border-bottom:1px solid var(--line);
  color:var(--ink-2); border-radius:0; box-shadow:none !important; outline:none !important;
  transition:color var(--fx-fast), border-color var(--fx-fast);
}
.accordion.minimalist .accordion-button:hover{ color:var(--ink); border-bottom-color:#dcdcdc; }
.accordion.minimalist .accordion-button:focus{ color:var(--ink); border-bottom-color:var(--ink) !important; box-shadow:none !important; }
.accordion.minimalist .accordion-button:not(.collapsed){ color:var(--ink); border-bottom-color:#dcdcdc; }
/* 부트스트랩 기본 chevron 이미지 제거(파란 느낌 근원) */
.accordion.minimalist .accordion-button::after{
  background-image:none !important; content:"▾"; transform:rotate(0deg); font-size:.9rem; color:var(--ink-3); transition:transform var(--fx-fast);
}
.accordion.minimalist .accordion-button:not(.collapsed)::after{ transform:rotate(180deg); color:var(--ink-3); }
.accordion.minimalist .accordion-body{ padding:.35rem 0 .2rem; }

.filter-list{ max-height:280px; overflow:auto; overscroll-behavior:contain; -webkit-overflow-scrolling:touch; }
.filter-list::-webkit-scrollbar{ width:8px; height:8px; }
.filter-list::-webkit-scrollbar-thumb{ background-color:rgba(0,0,0,.15); border-radius:8px; }
.filter-list::-webkit-scrollbar-track{ background:transparent; }
.form-check{ margin:.25rem 0; }
.form-check-label{ cursor:pointer; display:inline-flex; gap:.3rem; align-items:baseline; color:var(--ink-2); transition:color var(--fx-fast), text-decoration-color var(--fx-fast); }
.form-check:hover .form-check-label{ color:var(--ink); text-decoration:underline; text-decoration-thickness:.06em; text-underline-offset:.12em; }
.form-check-label .text-secondary{ font-size:.85em; color:var(--ink-3) !important; }

/* ===== 체크박스(파란 선택/포커스 완전 차단 → 무채색) ===== */
.filter-panel .form-check-input{
  width:1rem; height:1rem; margin-top:.2rem; box-shadow:none !important; outline:none !important;
  border:1px solid #999 !important; background-color:#fff; border-radius:.25rem;
  /* 최신 브라우저 */
  accent-color:var(--ink);
}
/* 구버전/비지원 대비: 체크 시 배경/테두리 강제 검정 */
.filter-panel .form-check-input:checked{
  background-color:var(--ink) !important; border-color:var(--ink) !important;
}
/* 포커스 링(파랑) 제거 */
.filter-panel .form-check-input:focus{ box-shadow:none !important; border-color:var(--ink) !important; }

/* ===== 카드 그리드 ===== */
#product-grid .card{ border:none; background:transparent; transition:transform .12s ease; }
#product-grid .card:hover{ transform:translateY(-2px); }
.product-card{ display:flex; flex-direction:column; }
.product-card .card-media{ aspect-ratio:var(--media-ratio); background:#fff; display:grid; place-items:center; }
.product-card .card-media img{ width:100%; height:100%; object-fit:contain; display:block; }
#product-grid .card-body{ padding:.55rem 0 .7rem; }

/* 텍스트들 */
.brand-compact{ font-size:.82rem; color:var(--ink-3) !important; }
.name-compact{ font-size:.92rem; line-height:1.25; color:var(--ink-2); }
.linkish{ text-decoration:none; }
.product-card:hover .name-compact{ text-decoration:underline; }

/* 가격 */
.price-row{ display:flex; align-items:baseline; gap:.45rem; white-space:nowrap; }
.price-row .disc{ color:#c85a5a; font-weight:500; font-size:.88rem; }
.price-row .sale{ font-weight:800; font-size:.98rem; color:var(--ink); }
.price-row .list{ color:#aeb4bb; text-decoration:line-through; font-size:.88rem; margin-left:.1rem; }
.card .price-row .sale, .card .price-row .disc, .card .price-row .list{ line-height:1.08; }

/* ===== 정렬 드롭다운(무채색 미니멀) ===== */
/* 부트스트랩 .form-select가 파란 포커스/보더를 주므로 우선순위+!important로 눌러줍니다 */
.sort-wrap{ position:relative; display:flex; align-items:center; }
.sort-wrap .form-select.minimalist-select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background:transparent !important;
  border:none !important; border-bottom:1px solid var(--line) !important;
  border-radius:0 !important;
  padding:.35rem 1.2rem .35rem .05rem !important;
  font-size:.9rem !important; color:var(--ink-2) !important;
  box-shadow:none !important;
}
.sort-wrap .form-select.minimalist-select:hover{ border-bottom-color:#cfcfcf !important; }
.sort-wrap .form-select.minimalist-select:focus{
  outline:none !important; border-bottom-color:var(--ink) !important;
  box-shadow:inset 0 -2px 0 0 var(--ink) !important; color:var(--ink) !important;
}
/* 기본 화살표 제거 + 대체 화살표(무채색) */
.sort-wrap .form-select.minimalist-select::-ms-expand{ display:none; }
.sort-wrap::after{
  content:"▾"; position:absolute; right:.15rem; top:50%; transform:translateY(-50%);
  font-size:.9rem; line-height:1; color:var(--ink-3); pointer-events:none;
}

/* ===== 페이지네이션(리스트와 간격 확장: nav.mt-5) ===== */
.pager-minimal .page-link{
  border:none !important; background:transparent !important; color:var(--ink-2);
  padding:.25rem .45rem; border-radius:0 !important;
  transition:color var(--fx-fast), border-color var(--fx-fast);
}
.pager-minimal .page-link:hover{ color:var(--ink); }
.pager-minimal .page-item.active .page-link{ color:var(--ink); border-bottom:2px solid var(--ink) !important; }
.pager-minimal .page-item.disabled .page-link{ color:#b9b9b9; }

/* ===== 빈 상태(검색 0건) ===== */
.empty-state{
  text-align:center; padding:4rem 1rem 2.5rem;
  border-top:1px dashed var(--line); border-bottom:1px dashed var(--line);
}
.empty-state .empty-icon{ font-size:2.25rem; line-height:1; color:#999; margin-bottom:.4rem; }

/* ===== 필터 초기화 버튼 ===== */
.btn-reset{
  border:none; background:transparent; color:#333; text-align:left; padding:.25rem 0;
  border-bottom:1px solid var(--line); border-radius:0;
}
.btn-reset:hover{ color:#000; }

/* ===== 품절 오버레이 ===== */
.card-media.soldout{ position:relative; }
.card-media.soldout::before{ content:""; position:absolute; inset:0; background:rgba(0,0,0,.28); z-index:1; }
.card-media.soldout .overlay{ position:absolute; inset:0; display:flex; justify-content:center; align-items:center; z-index:2; pointer-events:none; }
.card-media.soldout .overlay::after{
  content:"SOLD OUT"; font-weight:500; font-size:clamp(18px,3vw,32px);
  letter-spacing:.08em; color:#fff; padding:.5em 1em;
}

/* =========================
   🔧 정렬/정렬 드롭다운 & 레이아웃 고정 패치
   ========================= */

/* A. 사이드바 ↔ 리스트 간격을 padding으로 줘서 컬럼 정렬 안 틀어지게 */
.list-body-narrow{
  margin-left: 0 !important;      /* 기존 margin으로 컬럼이 옆으로 밀리던 문제 제거 */
  padding-left: 24px !important;  /* 간격은 padding으로 확보 (원하시면 16~32px로 조절) */
}
@media (max-width: 991.98px){
  .list-body-narrow{ padding-left: 16px !important; }
}

/* 사이드바의 세로 헤어라인은 '자기 컬럼의 오른쪽'에 정확히 붙도록 */
aside.col-12.col-md-3.col-lg-2{ position: relative; }
aside.col-12.col-md-3.col-lg-2::after{
  right: 0 !important;  /* margin 대신 padding으로 띄웠으므로 헤어라인은 0에 고정 */
}

/* B. 정렬 드롭다운: 부트스트랩 기본(form-select) 강제 무시 + 무채색 적용  */
.sort-wrap{ position:relative; display:flex; align-items:center; }

/* 핵심: 더 구체적인 선택자 + !important로 Bootstrap .form-select 오버라이드 */
.sort-wrap select#sort-select.form-select.minimalist-select{
  appearance: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;

  background: transparent !important;
  background-image: none !important;     /* BS의 파란 caret SVG 제거 */
  border: none !important;
  border-bottom: 1px solid var(--line) !important;
  border-radius: 0 !important;

  padding: .35rem 1.4rem .35rem .05rem !important; /* 오른쪽 caret 자리 확보 */
  font-size: .9rem !important;
  color: var(--ink-2) !important;

  box-shadow: none !important;
  outline: none !important;
}
.sort-wrap select#sort-select.form-select.minimalist-select:hover{
  border-bottom-color: #cfcfcf !important;
}
.sort-wrap select#sort-select.form-select.minimalist-select:focus{
  border-bottom-color: var(--ink) !important;
  box-shadow: inset 0 -2px 0 0 var(--ink) !important;
  color: var(--ink) !important;
}

/* 대체 caret(무채색) */
.sort-wrap::after{
  content: "▾";
  position: absolute;
  right: .15rem;
  top: 50%;
  transform: translateY(-50%);
  font-size: .9rem;
  line-height: 1;
  color: var(--ink-3);
  pointer-events: none;
}

/* C. 사이드바 체크박스/아코디언의 파란 포커스 완전 제거(중복 안전망) */
.filter-panel .form-check-input{
  box-shadow: none !important;
  border: 1px solid #999 !important;
  background-color: #fff !important;
  accent-color: var(--ink);
}
.filter-panel .form-check-input:checked{
  background-color: var(--ink) !important;
  border-color: var(--ink) !important;
}
.accordion.minimalist .accordion-button{
  box-shadow: none !important;
  outline: none !important;
  border-bottom: 1px solid var(--line) !important;
  color: var(--ink-2) !important;
}
.accordion.minimalist .accordion-button:focus{
  box-shadow: none !important;
  border-bottom-color: var(--ink) !important;
  color: var(--ink) !important;
}
.accordion.minimalist .accordion-button::after{
  background-image: none !important;
  content: "▾";
  transform: rotate(0deg);
  color: var(--ink-3);
}
.accordion.minimalist .accordion-button:not(.collapsed)::after{
  transform: rotate(180deg);
}

/* =========================
   🔧 레이아웃 & 정렬 드롭다운 최종 패치
   ========================= */

/* 전체 폭 축소 + 가운데 정렬 (첫 번째 스샷 요구) */
.list-container{
  max-width: 1280px;          /* ← 딱 줄이고 싶은 폭: 1100~1400px 사이로 조절 가능 */
  margin: 0 auto;
  padding: 0 12px;            /* 양쪽 살짝 여백 */
}

/* 사이드바 ↔ 리스트 간 간격: 컬럼 정렬 흐트러지지 않게 'gutter'로 처리 */
.list-shell{
  --bs-gutter-x: 2.0rem;      /* ← 첫 번째/두 번째 스샷 같은 간격 */
}
@media (min-width: 1400px){
  .list-shell{ --bs-gutter-x: 2.4rem; } /* 초광폭 화면에서만 살짝 더 */
}

/* 리스트 영역 자체는 margin 대신 padding으로만 띄워 정렬 고정 */
.list-body-narrow{
  margin-left: 0 !important;
  padding-left: 0 !important; /* gutter로 간격을 주므로 여기선 0 */
}

/* 사이드바의 세로 헤어라인은 자기 컬럼 끝에 고정 */
aside.col-12.col-md-3.col-lg-2{ position: relative; }
aside.col-12.col-md-3.col-lg-2::after{
  right: 0 !important;
}

/* ===== 정렬 드롭다운: 부트스트랩 기본(form-select) 완전 제거 후 무채색 적용 ===== */
.sort-wrap{ position:relative; display:flex; align-items:center; }

/* 핵심: 더 구체적 선택자 + !important로 BS 오버라이드 */
section .sort-wrap select#sort-select.form-select{
  appearance: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;

  background: transparent !important;
  background-image: none !important;       /* BS 기본 파란 caret SVG 제거 */
  border: none !important;
  border-bottom: 1px solid var(--line) !important;
  border-radius: 0 !important;

  padding: .35rem 1.4rem .35rem .05rem !important;
  font-size: .9rem !important;
  color: #222 !important;

  box-shadow: none !important;
  outline: none !important;
}
section .sort-wrap select#sort-select.form-select:hover{
  border-bottom-color: #cfcfcf !important;
}
section .sort-wrap select#sort-select.form-select:focus{
  border-bottom-color: #111 !important;
  box-shadow: inset 0 -2px 0 0 #111 !important;
  color: #111 !important;
}

/* 대체 caret(무채색) */
section .sort-wrap::after{
  content: "▾";
  position: absolute;
  right: .15rem;
  top: 50%;
  transform: translateY(-50%);
  font-size: .9rem;
  line-height: 1;
  color: #6c757d;
  pointer-events: none;
}

/* =========================
   🔧 레이아웃/간격/정렬 셀렉트 최종 제어
   ========================= */

/* (1) 이 페이지의 컨텐츠 최대폭을 '눈에 띄게' 줄임 (layout의 .container를 덮어씀) */
#content.container{
  max-width: 1120px !important;   /* ← 원하는 값으로 조절(예: 1040~1200px) */
}

/* (2) 사이드바 ↔ 리스트 간격: 컬럼 정렬 안 틀어지게 gutter로 확보 */
.row.list-shell{
  --bs-gutter-x: 2.5rem !important;   /* ← 두 번째 스샷처럼 간격 넉넉하게 */
}
/* 섹션에 준 ps-md-5(좌측 패딩)과 함께 확실히 벌어집니다. */

/* (3) 정렬 드롭다운: Bootstrap 종속성 완전 제거 후 무채색 커스텀 */
.sort-wrap{ position:relative; display:flex; align-items:center; }
.sort-select.minimalist-select{
  appearance: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;

  background: transparent !important;
  background-image: none !important;     /* 기본 caret 제거 */
  border: none !important;
  border-bottom: 1px solid var(--line) !important;
  border-radius: 0 !important;

  padding: .35rem 1.4rem .35rem .05rem !important;
  font-size: .9rem !important;
  color: #222 !important;

  box-shadow: none !important;
  outline: none !important;
}
.sort-select.minimalist-select:hover{
  border-bottom-color: #cfcfcf !important;
}
.sort-select.minimalist-select:focus{
  border-bottom-color: #111 !important;
  box-shadow: inset 0 -2px 0 0 #111 !important;
  color: #111 !important;
}
/* 대체 caret(무채색) */
.sort-wrap::after{
  content: "▾";
  position: absolute;
  right: .15rem; top: 50%; transform: translateY(-50%);
  font-size: .9rem; line-height: 1; color: #6c757d;
  pointer-events: none;
}

/* (보강) 체크박스 파란 톤 차단 */
.filter-panel .form-check-input{
  background-image: none !important;
  background-color: #fff !important;
  border: 1px solid #999 !important;
  box-shadow: none !important;
  accent-color: #111;
}
.filter-panel .form-check-input:checked{
  background-color: #111 !important;
  border-color: #111 !important;
}

/* 커스텀 정렬 드롭다운 */
.sort-custom { position:relative; display:inline-block; }
.sort-custom .sort-btn{
  display:inline-flex; align-items:center; gap:.35rem;
  background:transparent; border:none; padding:.35rem 0;
  border-bottom:1px solid var(--line); font-size:.9rem; color:#222;
  cursor:pointer;
}
.sort-custom .sort-btn:focus{ outline:none; box-shadow: inset 0 -2px 0 0 #111; border-bottom-color:#111; color:#111; }
.sort-custom .caret{ font-size:.9rem; color:#6c757d; }
.sort-custom.open .caret{ transform:rotate(180deg); }

.sort-custom .menu{
  position:absolute; top:100%; right:0; min-width:160px; z-index:1000;
  background:#fff; border:1px solid #e9ecef; border-radius:.4rem;
  box-shadow:0 .5rem 1rem rgba(0,0,0,.08);
  padding:.35rem 0; margin-top:.35rem; display:none;
}
.sort-custom.open .menu{ display:block; }

.sort-custom .item{
  width:100%; text-align:left; background:transparent; border:none;
  padding:.45rem .75rem; font-size:.9rem; color:#222; cursor:pointer;
}
.sort-custom .item:hover, .sort-custom .item[aria-current="true"]{
  background:#f6f7f8; color:#111;
}

/* 네이티브 select는 화면에서 숨김(접근성/폼 값은 유지) */
#sort-select.visually-hidden{
  position:absolute !important; left:-9999px !important; width:1px !important; height:1px !important;
  overflow:hidden !important; clip:rect(0 0 0 0) !important; white-space:nowrap !important; border:0 !important;
}


